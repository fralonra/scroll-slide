(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Scroll = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
(function (global){
"use strict";var _createClass=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}();function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var defaultDuration=1e3,classNamePrefix="scroll-slide",Scroll=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this._initOption(i),this._initView(),this._initGlobalEvent()}return _createClass(t,[{key:"add",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,e=this._option.slides;if((i<0||i>e.length)&&(i=e.length),this._initSlide(t,i),this._option.slides=insert(this._option.slides,i,t),i<=this._currentSlide){var n=this._prevSlidesHeight(++this._currentSlide);this._wrapper.style.top=-n+"px"}"none"!==this._option.paginator&&(this._addDot(i),i<=this._currentSlide&&this._changePaginator(this._currentSlide-1,this._currentSlide))}},{key:"current",value:function(){return this._currentSlide}},{key:"remove",value:function(t){t>=this._option.slides.length-1||(t===this._currentSlide&&t===this._option.slides.length-1&&this.scrollTo(0),t<this._currentSlide&&this.scrollTo(this._currentSlide-1),"none"!==this._option.paginator&&(this._removeDot(t),t<=this._currentSlide&&this._changePaginator(this._currentSlide-1,this._currentSlide)),this._wrapper.removeChild(this._option.slides[t]),this._option.slides=this._option.slides.filter(function(i,e,n){return e!==t}))}},{key:"scrollDown",value:function(){var t=this._option.slides;if(!this._isLastSlide()||this._option.loop){var i=this._isLastSlide()?0:this._currentSlide+1,e=this._isSlideMutiPages(this._currentSlide),n=strToNum(this._wrapper.style.top),o=e?t[this._currentSlide].clientHeight-this._scrollInSlide>this._option.viewport.clientHeight?this._option.viewport.clientHeight:t[this._currentSlide].clientHeight-this._scrollInSlide:t[this._currentSlide].clientHeight,s=e&&this._scrollInSlide+o===t[this._currentSlide].clientHeight;this._wrapper.style.top=this._isLastSlide()&&!e||this._isLastSlide()&&s?"0px":n-o+"px",!e||s?(this._changePaginator(this._currentSlide,i),this._setCurrentSlide(i),0!==this._scrollInSlide&&(this._scrollInSlide=0)):e&&(this._scrollInSlide+=o)}}},{key:"scrollTo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=this._option.slides.length-1;t<0?t=i:t>i&&(t=0);var e=0===t?0:this._prevSlidesHeight(t);this._wrapper.style.top=-e+"px",this._currentSlide!==t&&this._changePaginator(this._currentSlide,t);var n=t!==this._currentSlide;this._setCurrentSlide(t,n),0!==this._scrollInSlide&&(this._scrollInSlide=0)}},{key:"scrollUp",value:function(){if(!this._isFirstSlide()||this._option.loop){var t=this._option.slides,i=this._isFirstSlide()?t.length-1:this._currentSlide-1,e=strToNum(this._wrapper.style.top);this._wrapper.style.top=this._isFirstSlide()?t[t.length-1].clientHeight-this._wrapper.clientHeight+"px":0===this._scrollInSlide?e+t[i].clientHeight+"px":e+this._scrollInSlide+"px",0===this._scrollInSlide?(this._changePaginator(this._currentSlide,i),this._setCurrentSlide(i)):this._scrollInSlide=0}}},{key:"toggleFull",value:function(t){"true"===t.getAttribute("data-full")?(t.removeAttribute("data-full"),t.style.height=""):(t.setAttribute("data-full","true"),t.style.height=this._option.viewport.clientHeight+"px")}},{key:"_changePaginator",value:function(t,i){var e=this;"none"!==e._option.paginator&&e._dotList.forEach(function(n,o,s){i===o?(n.classList.add(classNamePrefix+"-paginator-dot-active"),n.style.background=e._option.dotActiveColor):t===o&&(n.classList.remove(classNamePrefix+"-paginator-dot-active"),n.style.background=e._option.dotColor)})}},{key:"_addDot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._initDot(t),this._dotList.forEach(function(i,e,n){e>t&&i.setAttribute("index",Number(i.getAttribute("index"))+1)}),this._initPaginatorTop()}},{key:"_removeDot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=this._dotList[t];this._paginator.removeChild(i),this._dotList.forEach(function(i,e,n){e>t&&i.setAttribute("index",e-1)}),this._dotList.splice(t,1),this._initPaginatorTop()}},{key:"_initOption",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={autoHeight:!0,duration:defaultDuration,dotColor:"#e1e1e1",dotActiveColor:"#6687ff",idleTime:200,loop:!0,keyboard:!0,paginator:"none",slides:[],viewport:null,onScroll:null};this._currentSlide=0,this._doc=global.document,this._dotList=null,this._isTouching=!1,this._lastAniTime=0,this._paginator=null,this._scrollInSlide=0,this._touchStartY=0,this._win=global,this._wrapper=null,this._option={},Object.keys(e).forEach(function(n){i.hasOwnProperty(n)?t._option[n]=i[n]:t._option[n]=e[n]}),this._duration=this._option.duration}},{key:"_initDot",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this._doc.createElement("div");e.setAttribute("index",i),e.classList.add(classNamePrefix+"-paginator-dot"),e.style.width="0.75rem",e.style.height="0.75rem",e.style.background=this._option.dotColor,e.style.margin="0.5rem auto",e.style.borderRadius="50%",e.style.transition="all 0.5s ease 0s",e.style.cursor="pointer",i===this._currentSlide&&(e.classList.add(classNamePrefix+"-paginator-dot-active"),e.style.background=this._option.dotActiveColor),e.addEventListener("click",function(i){t._handleDotClick(i)}),this._dotList=insert(this._dotList,i,e),moveEl(e,this._paginator,i)}},{key:"_initDotList",value:function(){var t=this;this._dotList=[],this._option.slides.forEach(function(i,e,n){t._initDot(e)})}},{key:"_initFullHeight",value:function(t){t.style.height=this._option.viewport.clientHeight+"px"}},{key:"_initGlobalEvent",value:function(){var t=this;t._option.autoHeight&&window.addEventListener("resize",function(i){t._handleResize(i),t._wrapper.style.transitionDuration="0s",t.scrollTo(t._currentSlide),setTimeout(function(){t._wrapper.style.transitionDuration=genDurationText(String(t._duration))},1)}),t._option.keyboard&&t._doc.addEventListener("keydown",function(i){t._handleKeyboard(i)})}},{key:"_initPaginator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._option.paginator,i=this._paginator;i.classList.add(classNamePrefix+"-paginator"),i.style.position="absolute",i.style[t]=.05*this._wrapper.clientWidth+"px",this._initDotList(),this._option.viewport.appendChild(i),i.style.top="50%",this._initPaginatorTop()}},{key:"_initPaginatorTop",value:function(){var t=this._paginator.clientHeight/2;this._paginator.style.marginTop=-t+"px"}},{key:"_initSlide",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.classList.add(classNamePrefix+"-slide"),t.style.overflow="hidden","true"===t.getAttribute("data-full")&&this._initFullHeight(t),moveEl(t,this._wrapper,i)}},{key:"_initSlides",value:function(){var t=this;this._option.slides=[].slice.call(this._option.slides),this._option.slides.forEach(function(i){t._initSlide(i)}),moveEl(this._wrapper,this._option.viewport)}},{key:"_isFirstSlide",value:function(){return 0===this._currentSlide}},{key:"_isLastSlide",value:function(){return this._currentSlide===this._option.slides.length-1}},{key:"_isSlideOnTop",value:function(){return strToNum(this._wrapper.style.top)===this._prevSlidesHeight()}},{key:"_isSlideMutiPages",value:function(t){return this._option.slides[t].clientHeight>this._option.viewport.clientHeight}},{key:"_initView",value:function(){var t=this,i=t._option.viewport;null===i&&(i=t._doc.getElementByTagName("body")[0]),i.classList.add(classNamePrefix+"-viewport"),i.style.position="relative",""===i.style.height&&(i.style.height="100%"),i.style.overflow="hidden",i.addEventListener("DOMMouseScroll",function(i){t._handleMouseWheel(i)}),i.addEventListener("mousewheel",function(i){t._handleMouseWheel(i)}),i.addEventListener("touchstart",function(i){t._handleTouchStart(i)}),t._wrapper=t._doc.createElement("div"),t._wrapper.classList.add(classNamePrefix+"-wrapper"),t._wrapper.style.position="relative",t._wrapper.style.top="0px";var e=genDurationText(String(t._duration));t._wrapper.style.transition="all "+e+" ease 0s",t._initSlides(),"none"!==t._option.paginator&&"left"!==t._option.paginator&&"right"!==t._option.paginator&&(t._option.paginator="none"),"none"!==t._option.paginator&&(i.style.position="relative",t._paginator=this._doc.createElement("div"),t._initPaginator())}},{key:"_prevSlidesHeight",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentSlide,i=0;return this._option.slides.forEach(function(e,n,o){t<=n||(i+=e.clientHeight)}),i}},{key:"_setCurrentSlide",value:function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._currentSlide=t,i&&"function"==typeof this._option.onScroll&&this._option.onScroll(this._currentSlide)}},{key:"_handleDotClick",value:function(t){t.preventDefault();var i=Number(t.target.getAttribute("index"))||0;i!==this._currentSlide&&this.scrollTo(i)}},{key:"_handleKeyboard",value:function(t){switch(t.key){case"ArrowDown":case"PageDown":this.scrollDown();break;case"ArrowUp":case"PageUp":this.scrollUp()}}},{key:"_handleMouseWheel",value:function(t){t.preventDefault();var i=(new Date).getTime();i-this._lastAniTime<this._option.idleTime+this._duration||((t.wheelDelta||-t.detail)<0?this.scrollDown():this.scrollUp(),this._lastAniTime=i)}},{key:"_handleResize",value:function(t){this._initSlides()}},{key:"_handleTouchMove",value:function(t){t.preventDefault();if(this._isTouching){var i=(new Date).getTime();if(!(i-this._lastAniTime<this._option.idleTime+this._duration)){if(t.touches&&t.touches.length){var e=this._touchStartY-t.touches[0].pageY;if(Math.abs(e)<50)return;e<0?this.scrollDown():this.scrollUp(),t.target.removeEventListener("touchmove",this._handleTouchMove),this._lastAniTime=i}this._touchStartY=0,this._isTouching=!1}}}},{key:"_handleTouchStart",value:function(t){var i=this;t.touches&&t.touches.length&&(i._isTouching=!0,i._touchStartY=t.touches[0].pageY,i._option.viewport.addEventListener("touchmove",function(t){i._handleTouchMove(t)}))}}]),t}();function genDurationText(t){return t.match(/^\d+$/)?t+"ms":defaultDuration+"ms"}function insert(t,i,e){var n=[];return t.forEach(function(t,o,s){o===i&&n.push(e),n.push(t)}),i===t.length&&n.push(e),n}function moveEl(t,i){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=i.hasChildNodes()?i.childNodes:[];return null===e||e===n.length?i.appendChild(t):i.insertBefore(t,n[e])}function strToNum(t){return Number(t.split(/[^\d-]+/)[0])}module.exports=Scroll;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}]},{},[1])(1)
});
